<launch>
  <arg name="enable_loop" default="false" />
  <arg name="config_file" default="$(env HOME)/workspace/exploration_ws/src/VINS-Fusion/config/realsense_d435i/realsense_stereo_imu_config.yaml" />
  <arg name="bag_file" default="$(env HOME)/bag/vins_2025-02-07-13-52-17.bag" />

  <node name="vins_estimator" pkg="vins" type="vins_node" output="log" args="$(arg config_file)" />

  <group if="$(arg enable_loop)">
    <node name="loop_fusion" pkg="loop_fusion" type="loop_fusion_node" output="screen" args="$(arg config_file)" />
  </group>

  <node pkg="rosbag" type="play" name="player" output="log" args="--clock --delay 1 -s 0 $(arg bag_file)" />
</launch>
